




app.get('/notes', (req, res) => {
  db = JSON.parse(fs.readFileSync('./db/db.json', 'utf-8'))

  res.json(db);

});

app.post('/notes', (req, res) => {
  let newNote = { // most basic form of a model
    id: Math.floor(Math.random() * 1000),
    title: req.body.title,
    text: req.body.text
  }

  // most basic form of a controller
  db.push(newNote);
  fs.writeFileSync('./db/db.json', JSON.stringify(db), (err, res) => {
    if(err) throw err;
  });

  res.json(db);

})